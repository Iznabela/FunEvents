@page
@model FunEvents.Pages.Events.IndexModel

@{
    ViewData["Title"] = "Index";
}

<h1>Events</h1>

<div class="accordion">
    @foreach (var item in Model.Events)
    {
        <div class="accordion"><h3>@Html.DisplayFor(modelItem => item.Title)</h3></div>
        <div class="panel">
            <p>@Html.DisplayFor(modelItem => item.Description)</p>
            <p>Place: @Html.DisplayFor(modelItem => item.Place)</p>
            <p>Time: @Html.DisplayFor(modelItem => item.Date)</p>
            <a asp-page="./Details" asp-route-id="@item.ID">Join</a>
        </div>
    }
</div>

@section scripts {
    <script>
        var acc = document.getElementsByClassName("accordion");
        var i;

        for (i = 0; i < acc.length; i++) {
            acc[i].addEventListener("click", function () {
                this.classList.toggle("active");
                var panel = this.nextElementSibling;
                if (panel.style.display === "block") {
                    panel.style.display = "none";
                } else {
                    panel.style.display = "block";
                }
            });
        }
    </script>
}
